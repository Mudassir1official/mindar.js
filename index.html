
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Debug Test</title>
  </head>
  <body style="margin: 0; font-family: Arial;">
    
    <!-- Always visible status panel -->
    <div id="status" style="position: fixed; top: 10px; left: 10px; background: #333; color: white; padding: 20px; border-radius: 5px; font-size: 14px; z-index: 1000; max-width: 300px;">
      <strong>ÔøΩ DIAGNOSTIC TEST</strong><br>
      <div id="html-status">‚úÖ HTML: Working</div>
      <div id="js-status">‚è≥ JavaScript: Testing...</div>
      <div id="aframe-status">‚è≥ A-Frame: Loading...</div>
      <div id="webgl-status">‚è≥ WebGL: Testing...</div>
      <button onclick="manualTest()" style="margin-top: 10px; padding: 8px; background: #007acc; color: white; border: none; border-radius: 3px;">Manual Test</button>
    </div>

    <!-- Fallback content if A-Frame fails -->
    <div id="fallback" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: red; color: white; padding: 30px; border-radius: 10px; text-align: center;">
      <h2>‚ö†Ô∏è A-Frame Failed</h2>
      <p>3D graphics not supported on this browser</p>
    </div>

    <!-- A-Frame test scene -->
    <a-scene id="scene" background="color: #222222" style="height: 100vh;">
      <a-box position="0 1.25 -5" rotation="0 45 0" color="#ff6600" animation="property: rotation; to: 0 405 0; dur: 2000; loop: true"></a-box>
      <a-sphere position="2 1.25 -5" radius="1.25" color="#00ff00"></a-sphere>
      <a-text position="0 3 -4" value="A-FRAME WORKS!" color="white" align="center"></a-text>
      <a-camera></a-camera>
    </a-scene>

    <!-- Load A-Frame after page loads -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <script>
      // Update status helper
      function updateStatus(id, message, success = false) {
        const element = document.getElementById(id);
        if (element) {
          element.innerHTML = (success ? '‚úÖ' : '‚ùå') + ' ' + message;
          element.style.color = success ? '#00ff00' : '#ff4444';
        }
        console.log(message);
      }

      // Manual test button
      function manualTest() {
        alert('üß™ Manual test triggered!\nCheck console for details.');
        console.log('=== MANUAL DIAGNOSTIC ===');
        console.log('Page URL:', window.location.href);
        console.log('User Agent:', navigator.userAgent);
        console.log('WebGL Support:', !!window.WebGLRenderingContext);
        console.log('A-Frame loaded:', typeof AFRAME !== 'undefined');
      }

      // Test JavaScript
      document.addEventListener('DOMContentLoaded', function() {
        updateStatus('js-status', 'JavaScript: Working', true);
        
        // Test WebGL support
        try {
          const canvas = document.createElement('canvas');
          const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
          if (gl) {
            updateStatus('webgl-status', 'WebGL: Supported', true);
          } else {
            updateStatus('webgl-status', 'WebGL: Not supported', false);
            document.getElementById('fallback').style.display = 'block';
          }
        } catch(e) {
          updateStatus('webgl-status', 'WebGL: Error - ' + e.message, false);
        }

        // Test A-Frame loading
        let aframeTimeout = setTimeout(() => {
          updateStatus('aframe-status', 'A-Frame: Failed to load', false);
          document.getElementById('fallback').style.display = 'block';
        }, 10000); // 10 second timeout

        // Check if A-Frame loads
        function checkAFrame() {
          if (typeof AFRAME !== 'undefined') {
            updateStatus('aframe-status', 'A-Frame: Loaded successfully', true);
            clearTimeout(aframeTimeout);
            
            // Listen for scene ready
            const scene = document.querySelector('a-scene');
            if (scene) {
              scene.addEventListener('loaded', () => {
                updateStatus('aframe-status', 'A-Frame: Scene ready', true);
              });
            }
          } else {
            setTimeout(checkAFrame, 500);
          }
        }
        checkAFrame();
      });
    </script>
  </body>
</html>